function News(){this.progressGroup=$("#progress-group")}News.prototype.run=function(){var e=this;e.listenQiniuFileUploadEvent(),e.initUeditor(),e.listenAddNewsEvent()},News.prototype.initUeditor=function(){window.ue=UE.getEditor("container",{initialFrameHeight:500,serverUrl:"/ueditor/upload/"})},News.prototype.listenAddNewsEvent=function(){$("#submit-btn").click(function(e){e.preventDefault();var o=$("input[name='title']").val(),t=$("select[name='category']").val(),n=$("input[name='desc']").val(),r=$("input[name='thumbnail']").val(),s=window.ue.getContent();$.post({url:"/cms/write_news/",data:{title:o,desc:n,content:s,thumbnail:r,category:t},success:function(e){200===e.code?xfzalert.alertSuccess("添加新闻成功!",function(){window.location.reload()}):window.messageBox.showError(e.message)},error:function(e){window.messageBox.showError(e.message)}})})},News.prototype.listenUploadfileEvent=function(){$("#thumbnail-btn").change(function(){var e=this.files[0],o=new FormData;o.append("file",e),$.post({url:"/cms/upload_file/",data:o,contentType:!1,processData:!1,success:function(e){if(200===e.code){var o=e.data.url;$("#thumbnail-form").val(o)}else window.messageBox.showError(e.message)},error:function(e){console.log(e)}})})},News.prototype.listenQiniuFileUploadEvent=function(){var i=this;$("#thumbnail-btn").change(function(){var s=this.files[0];$.get({url:"/cms/qn_token/",success:function(e){if(200===e.code){var o=e.data.token,t=(new Date).getTime()+"."+s.name.split(".")[1],n={fname:t,params:{},mimeType:null},r={useCdnDomain:!0,retryCount:5,region:qiniu.region.z2};qiniu.upload(s,t,o,n,r).subscribe({next:i.handleFileUploadProcess,error:i.handleFileUploadError,complete:i.handleFileUploadComplete})}}})})},News.prototype.handleFileUploadProcess=function(e){var o=e.total.percent.toFixed(0)+"%";News.progressGroup.show();var t=$(".progress-bar");t.css({width:o}),t.text(o)},News.prototype.handleFileUploadError=function(e){window.messageBox.showError(e.message),$("#progress-group").hide(),console.log(e.message)},News.prototype.handleFileUploadComplete=function(e){console.log(e),$("#progress-group").hide();var o="http://ptmoolpfo.bkt.clouddn.com/"+e.key;$("#thumbnail-form").val(o)},$(function(){(new News).run(),News.progressGroup=$("#progress-group")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX25ld3MuanMiXSwibmFtZXMiOlsiTmV3cyIsInRoaXMiLCJwcm9ncmVzc0dyb3VwIiwiJCIsInByb3RvdHlwZSIsInJ1biIsInRoYXQiLCJsaXN0ZW5RaW5pdUZpbGVVcGxvYWRFdmVudCIsImluaXRVZWRpdG9yIiwibGlzdGVuQWRkTmV3c0V2ZW50Iiwid2luZG93IiwidWUiLCJVRSIsImdldEVkaXRvciIsImluaXRpYWxGcmFtZUhlaWdodCIsInNlcnZlclVybCIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRpdGxlIiwidmFsIiwiY2F0ZWdvcnkiLCJkZXNjIiwidGh1bWJuYWlsIiwiY29udGVudCIsImdldENvbnRlbnQiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXMiLCJjb2RlIiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCIsIm1lc3NhZ2VCb3giLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwiZXJyb3IiLCJsaXN0ZW5VcGxvYWRmaWxlRXZlbnQiLCJjaGFuZ2UiLCJmaWxlIiwiZmlsZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiY29udGVudFR5cGUiLCJwcm9jZXNzRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJnZXQiLCJ0b2tlbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0IiwicHV0RXh0cmEiLCJmbmFtZSIsInBhcmFtcyIsIm1pbWVUeXBlIiwiY29uZmlnIiwidXNlQ2RuRG9tYWluIiwicmV0cnlDb3VudCIsInJlZ2lvbiIsInFpbml1IiwiejIiLCJ1cGxvYWQiLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZGxlRmlsZVVwbG9hZFByb2Nlc3MiLCJoYW5kbGVGaWxlVXBsb2FkRXJyb3IiLCJjb21wbGV0ZSIsImhhbmRsZUZpbGVVcGxvYWRDb21wbGV0ZSIsInJlc3BvbnNlIiwicGVyY2VudFRleHQiLCJ0b3RhbCIsInBlcmNlbnQi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QXdCLFNBQVVHLEdBQzdDakUsT0FBTzBCLFdBQVdDLFVBQVVzQyxFQUFTckMsU0FDakJuQyxFQUFFLG1CQUNSa0YsT0FDZHBDLFFBQVFDLElBQUl5QixFQUFTckMsVUFHekJ0QyxLQUFLSSxVQUFVc0UseUJBQTJCLFNBQVVDLEdBQ2hEMUIsUUFBUUMsSUFBSXlCLEdBQ1F4RSxFQUFFLG1CQUNSa0YsT0FFZCxJQUVJMUQsRUFGYyxvQ0FDSGdELEVBQVN0QixJQUVIbEQsRUFBRSxtQkFDUmlCLElBQUlPLElBR3ZCeEIsRUFBRSxZQUNhLElBQUlILE1BQ1ZLLE1BQ0xMLEtBQUtFLGNBQWdCQyxFQUFFIiwiZmlsZSI6IndyaXRlX25ld3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTmV3cygpIHtcbiAgICB0aGlzLnByb2dyZXNzR3JvdXAgPSAkKCcjcHJvZ3Jlc3MtZ3JvdXAnKTtcbn1cblxuTmV3cy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID10aGlzO1xuICAgIC8vIHRoYXQubGlzdGVuVXBsb2FkZmlsZUV2ZW50KCk7XG4gICAgdGhhdC5saXN0ZW5RaW5pdUZpbGVVcGxvYWRFdmVudCgpO1xuICAgIHRoYXQuaW5pdFVlZGl0b3IoKTtcbiAgICB0aGF0Lmxpc3RlbkFkZE5ld3NFdmVudCgpO1xufTtcblxuTmV3cy5wcm90b3R5cGUuaW5pdFVlZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2luZG93LnVlID0gVUUuZ2V0RWRpdG9yKCdjb250YWluZXInLCB7XG4gICAgICAgICdpbml0aWFsRnJhbWVIZWlnaHQnOiA1MDAsXG4gICAgICAgICdzZXJ2ZXJVcmwnOiAnL3VlZGl0b3IvdXBsb2FkLydcbiAgICB9KTtcbn07XG5cbk5ld3MucHJvdG90eXBlLmxpc3RlbkFkZE5ld3NFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRoYXQgPSB0aGlzO1xuICB2YXIgc3VibWl0QnRuID0gJCgnI3N1Ym1pdC1idG4nKTtcbiAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdmFyIHRpdGxlID0gJChcImlucHV0W25hbWU9J3RpdGxlJ11cIikudmFsKCk7XG4gICAgICB2YXIgY2F0ZWdvcnkgPSAkKFwic2VsZWN0W25hbWU9J2NhdGVnb3J5J11cIikudmFsKCk7XG4gICAgICB2YXIgZGVzYyA9ICQoXCJpbnB1dFtuYW1lPSdkZXNjJ11cIikudmFsKCk7XG4gICAgICB2YXIgdGh1bWJuYWlsID0gJChcImlucHV0W25hbWU9J3RodW1ibmFpbCddXCIpLnZhbCgpO1xuICAgICAgdmFyIGNvbnRlbnQgPSB3aW5kb3cudWUuZ2V0Q29udGVudCgpO1xuXG4gICAgICAkLnBvc3Qoe1xuICAgICAgICAgIHVybDogJy9jbXMvd3JpdGVfbmV3cy8nLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgJ3RpdGxlJzogdGl0bGUsXG4gICAgICAgICAgICAgICdkZXNjJzogZGVzYyxcbiAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxuICAgICAgICAgICAgICAndGh1bWJuYWlsJzogdGh1bWJuYWlsLFxuICAgICAgICAgICAgICAnY2F0ZWdvcnknOiBjYXRlZ29yeVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKCfmt7vliqDmlrDpl7vmiJDlip8hJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzLm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgIH0pXG4gIH0pXG59O1xuXG5OZXdzLnByb3RvdHlwZS5saXN0ZW5VcGxvYWRmaWxlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRodW1iQnRuID0gJCgnI3RodW1ibmFpbC1idG4nKTtcbiAgICB0aHVtYkJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyDov5nph4zlj6/ku6XkuIrkvKDlpJrkuKrlm77niYfvvIznlKhmaWxlWzBd6YCJ5Lit56ys5LiA5LiqO1xuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF07XG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcblxuICAgICAgICAkLnBvc3Qoe1xuICAgICAgICAgICAgdXJsOiAnL2Ntcy91cGxvYWRfZmlsZS8nLFxuICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc1snZGF0YSddWyd1cmwnXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRodW1ibmFpbElucHV0ID0gJCgnI3RodW1ibmFpbC1mb3JtJyk7XG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbElucHV0LnZhbCh1cmwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihyZXMubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pO1xufTtcblxuTmV3cy5wcm90b3R5cGUubGlzdGVuUWluaXVGaWxlVXBsb2FkRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0aGF0ID0gdGhpcztcbiAgdmFyIHRodW1ibmFpbEJ0biA9ICQoJyN0aHVtYm5haWwtYnRuJyk7XG5cbiAgdGh1bWJuYWlsQnRuLmNoYW5nZShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF07XG4gICAgICAkLmdldCh7XG4gICAgICAgICAgdXJsOiAnL2Ntcy9xbl90b2tlbi8nLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc1snZGF0YSddWyd0b2tlbiddO1xuICAgICAgICAgICAgICAgICAgLy8g6YCa6L+H5pe26Ze05oizICsg5paH5Lu25ZCO57yA5ZCN55qE5pa55byP55Sf5oiQIGtleVxuICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyAnLicgKyBmaWxlLm5hbWUuc3BsaXQoJy4nKVsxXTtcbiAgICAgICAgICAgICAgICAgIHZhciBwdXRFeHRyYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBmbmFtZToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgLy8gbWltZVR5cGU6IFsnaW1hZ2UvcG5nJywgJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvZ2lmJywgJ3ZpZGVvL3gtbXMtd212JywgJ3ZpZGVvL2ZsdiddXG4gICAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IG51bGxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHVzZUNkbkRvbWFpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50OiA1LFxuICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcWluaXUucmVnaW9uLnoyXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgdmFyIG9ic2VydmFibGUgPSBxaW5pdS51cGxvYWQoZmlsZSwga2V5LCB0b2tlbiwgcHV0RXh0cmEsIGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiB0aGF0LmhhbmRsZUZpbGVVcGxvYWRQcm9jZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICdlcnJvcic6IHRoYXQuaGFuZGxlRmlsZVVwbG9hZEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICdjb21wbGV0ZSc6IHRoYXQuaGFuZGxlRmlsZVVwbG9hZENvbXBsZXRlXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICB9KVxuICB9KVxufTtcblxuTmV3cy5wcm90b3R5cGUuaGFuZGxlRmlsZVVwbG9hZFByb2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICB2YXIgdG90YWwgPSByZXNwb25zZS50b3RhbDtcbiAgICB2YXIgcGVyY2VudCA9IHRvdGFsLnBlcmNlbnQ7XG4gICAgdmFyIHBlcmNlbnRUZXh0ID0gcGVyY2VudC50b0ZpeGVkKDApICsgJyUnO1xuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gTmV3cy5wcm9ncmVzc0dyb3VwO1xuICAgIHByb2dyZXNzR3JvdXAuc2hvdygpO1xuXG4gICAgdmFyIHByb2dyZXNzQmFyID0gJCgnLnByb2dyZXNzLWJhcicpO1xuICAgIHByb2dyZXNzQmFyLmNzcyh7J3dpZHRoJzogcGVyY2VudFRleHR9KTtcbiAgICBwcm9ncmVzc0Jhci50ZXh0KHBlcmNlbnRUZXh0KTtcblxufTtcblxuTmV3cy5wcm90b3R5cGUuaGFuZGxlRmlsZVVwbG9hZEVycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gJCgnI3Byb2dyZXNzLWdyb3VwJyk7XG4gICAgcHJvZ3Jlc3NHcm91cC5oaWRlKCk7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UubWVzc2FnZSk7XG59O1xuXG5OZXdzLnByb3RvdHlwZS5oYW5kbGVGaWxlVXBsb2FkQ29tcGxldGUgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgdmFyIHByb2dyZXNzR3JvdXAgPSAkKCcjcHJvZ3Jlc3MtZ3JvdXAnKTtcbiAgICBwcm9ncmVzc0dyb3VwLmhpZGUoKTtcblxuICAgIHZhciBxaW5pdURvbWFpbiA9ICdodHRwOi8vcHRtb29scGZvLmJrdC5jbG91ZGRuLmNvbS8nO1xuICAgIHZhciBmaWxlTmFtZSA9IHJlc3BvbnNlLmtleTtcbiAgICB2YXIgdXJsID0gcWluaXVEb21haW4gKyBmaWxlTmFtZTtcbiAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKCcjdGh1bWJuYWlsLWZvcm0nKTtcbiAgICB0aHVtYm5haWxJbnB1dC52YWwodXJsKTtcbn07XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXdzID0gbmV3IE5ld3MoKTtcbiAgICBuZXdzLnJ1bigpO1xuICAgIE5ld3MucHJvZ3Jlc3NHcm91cCA9ICQoJyNwcm9ncmVzcy1ncm91cCcpO1xufSk7Il19
