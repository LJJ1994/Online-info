function PubCourse(){}PubCourse.prototype.initUEditor=function(){window.ue=UE.getEditor("course-editor",{serverUrl:"/ueditor/upload/"})},PubCourse.prototype.listenSubmitEvent=function(){var d=$("#submit-btn");d.click(function(){var t=d.attr("data-course-id");console.log(t);var o="";o=t?"/cms/edit_course/":"/cms/pub_course/";var e=$("#title-input").val(),i=$("#category-input").val(),u=$("#teacher-input").val(),r=$("#video-input").val(),n=$("#cover-input").val(),c=$("#price-input").val(),s=$("#duration-input").val(),a=window.ue.getContent();$.post({url:o,data:{title:e,video_url:r,cover_url:n,price:c,duration:s,profile:a,category_id:i,teacher_id:u,pk:t},success:function(t){200===t.code&&(window.messageBox.showSuccess(t.message),window.location.reload())}})})},PubCourse.prototype.run=function(){this.initUEditor(),this.listenSubmitEvent()},$(function(){(new PubCourse).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1Yl9jb3Vyc2UuanMiXSwibmFtZXMiOlsiUHViQ291cnNlIiwicHJvdG90eXBlIiwiaW5pdFVFZGl0b3IiLCJ3aW5kb3ciLCJ1ZSIsIlVFIiwiZ2V0RWRpdG9yIiwic2VydmVyVXJsIiwibGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwiY2xpY2siLCJwayIsImF0dHIiLCJjb25zb2xlIiwibG9nIiwidXJsIiwidGl0bGUiLCJ2YWwiLCJjYXRlZ29yeV9pZCIsInRlYWNoZXJfaWQiLCJ2aWRlb191cmwiLCJjb3Zlcl91cmwiLCJwcmljZSIsImR1cmF0aW9uIiwicHJvZmlsZSIsImdldENvbnRlbnQiLCJwb3N0IiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXMiLCJtZXNzYWdlQm94Iiwic2hvd1N1Y2Nlc3MiLCJtZXNzYWdlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJydW4iLCJ0aGlzIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxhQUlUQSxVQUFVQyxVQUFVQyxZQUFjLFdBQzlCQyxPQUFPQyxHQUFLQyxHQUFHQyxVQUFVLGdCQUFnQixDQUNyQ0MsVUFBYSxzQkFJckJQLFVBQVVDLFVBQVVPLGtCQUFvQixXQUNwQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2xCRCxFQUFVRSxNQUFNLFdBQ1osSUFBSUMsRUFBS0gsRUFBVUksS0FBSyxrQkFDeEJDLFFBQVFDLElBQUlILEdBQ1osSUFBSUksRUFBTSxHQUVOQSxFQURBSixFQUNPLG9CQUVELG1CQUdWLElBQUlLLEVBQVFQLEVBQUUsZ0JBQWdCUSxNQUMxQkMsRUFBY1QsRUFBRSxtQkFBbUJRLE1BQ25DRSxFQUFhVixFQUFFLGtCQUFrQlEsTUFDakNHLEVBQVlYLEVBQUUsZ0JBQWdCUSxNQUM5QkksRUFBWVosRUFBRSxnQkFBZ0JRLE1BQzlCSyxFQUFRYixFQUFFLGdCQUFnQlEsTUFDMUJNLEVBQVdkLEVBQUUsbUJBQW1CUSxNQUNoQ08sRUFBVXRCLE9BQU9DLEdBQUdzQixhQUV4QmhCLEVBQUVpQixLQUFLLENBQ0hYLElBQUtBLEVBQ0xZLEtBQU0sQ0FDRlgsTUFBU0EsRUFDVEksVUFBYUEsRUFDYkMsVUFBYUEsRUFDYkMsTUFBU0EsRUFDVEMsU0FBWUEsRUFDWkMsUUFBV0EsRUFDWE4sWUFBZUEsRUFDZkMsV0FBY0EsRUFDZFIsR0FBTUEsR0FFVmlCLFFBQVMsU0FBVUMsR0FDSSxNQUFoQkEsRUFBVSxPQUNUM0IsT0FBTzRCLFdBQVdDLFlBQVlGLEVBQUlHLFNBQ2xDOUIsT0FBTytCLFNBQVNDLGdCQU9wQ25DLFVBQVVDLFVBQVVtQyxJQUFNLFdBQ3RCQyxLQUFLbkMsY0FDTG1DLEtBQUs3QixxQkFJVEUsRUFBRSxZQUNlLElBQUlWLFdBQ1ZvQyIsImZpbGUiOiJwdWJfY291cnNlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFB1YkNvdXJzZSgpIHtcblxufVxuXG5QdWJDb3Vyc2UucHJvdG90eXBlLmluaXRVRWRpdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcihcImNvdXJzZS1lZGl0b3JcIix7XG4gICAgICAgICdzZXJ2ZXJVcmwnOiAnL3VlZGl0b3IvdXBsb2FkLydcbiAgICB9KTtcbn07XG5cblB1YkNvdXJzZS5wcm90b3R5cGUubGlzdGVuU3VibWl0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN1Ym1pdEJ0biA9ICQoXCIjc3VibWl0LWJ0blwiKTtcbiAgICBzdWJtaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGsgPSBzdWJtaXRCdG4uYXR0cignZGF0YS1jb3Vyc2UtaWQnKTtcbiAgICAgICAgY29uc29sZS5sb2cocGspO1xuICAgICAgICB2YXIgdXJsID0gJyc7XG4gICAgICAgIGlmIChwaykge1xuICAgICAgICAgICAgdXJsID0gICcvY21zL2VkaXRfY291cnNlLydcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3B1Yl9jb3Vyc2UvJ1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRpdGxlID0gJChcIiN0aXRsZS1pbnB1dFwiKS52YWwoKTtcbiAgICAgICAgdmFyIGNhdGVnb3J5X2lkID0gJChcIiNjYXRlZ29yeS1pbnB1dFwiKS52YWwoKTtcbiAgICAgICAgdmFyIHRlYWNoZXJfaWQgPSAkKFwiI3RlYWNoZXItaW5wdXRcIikudmFsKCk7XG4gICAgICAgIHZhciB2aWRlb191cmwgPSAkKFwiI3ZpZGVvLWlucHV0XCIpLnZhbCgpO1xuICAgICAgICB2YXIgY292ZXJfdXJsID0gJChcIiNjb3Zlci1pbnB1dFwiKS52YWwoKTtcbiAgICAgICAgdmFyIHByaWNlID0gJChcIiNwcmljZS1pbnB1dFwiKS52YWwoKTtcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gJChcIiNkdXJhdGlvbi1pbnB1dFwiKS52YWwoKTtcbiAgICAgICAgdmFyIHByb2ZpbGUgPSB3aW5kb3cudWUuZ2V0Q29udGVudCgpO1xuXG4gICAgICAgICQucG9zdCh7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAndGl0bGUnOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAndmlkZW9fdXJsJzogdmlkZW9fdXJsLFxuICAgICAgICAgICAgICAgICdjb3Zlcl91cmwnOiBjb3Zlcl91cmwsXG4gICAgICAgICAgICAgICAgJ3ByaWNlJzogcHJpY2UsXG4gICAgICAgICAgICAgICAgJ2R1cmF0aW9uJzogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgJ3Byb2ZpbGUnOiBwcm9maWxlLFxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6IGNhdGVnb3J5X2lkLFxuICAgICAgICAgICAgICAgICd0ZWFjaGVyX2lkJzogdGVhY2hlcl9pZCxcbiAgICAgICAgICAgICAgICAncGsnOiBwa1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBpZihyZXNbJ2NvZGUnXSA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MocmVzLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cblB1YkNvdXJzZS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaW5pdFVFZGl0b3IoKTtcbiAgICB0aGlzLmxpc3RlblN1Ym1pdEV2ZW50KCk7XG59O1xuXG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb3Vyc2UgPSBuZXcgUHViQ291cnNlKCk7XG4gICAgY291cnNlLnJ1bigpO1xufSk7Il19
