function CourseDetail(){}CourseDetail.prototype.run=function(){this.initPlayer()},CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),r=e.attr("data-course-id"),a=cyberplayer("playcontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:50,controls:!0,tokenEncrypt:!0,ak:"72d3fdc507ba4dadbf33b8193138327d"});a.on("beforePlay",function(o){/m3u8/.test(o.file)&&$.get({url:"/course/course_token/",data:{video:t,course_id:r},success:function(e){if(200===e.code){var t=e.data.token;a.setToken(o.file,t)}else window.messageBox.showInfo(e.message),a.stop()},error:function(e){console.log(e)}})})},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm8iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsImdldCIsInVybCIsImRhdGEiLCJ2aWRlbyIsInN1Y2Nlc3MiLCJyZXMiLCJjb2RlIiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsIm1lc3NhZ2UiLCJzdG9wIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxnQkFJVEEsYUFBYUMsVUFBVUMsSUFBTSxXQUMxQkMsS0FBS0MsY0FHUkosYUFBYUMsVUFBVUcsV0FBYSxXQUNsQyxJQUFJQyxFQUFZQyxFQUFFLGVBQ2RDLEVBQVlGLEVBQVVHLEtBQUssa0JBQzNCQyxFQUFZSixFQUFVRyxLQUFLLGtCQUMzQkUsRUFBWUwsRUFBVUcsS0FBSyxrQkFFM0JHLEVBQVNDLFlBQVksaUJBQWlCQyxNQUFNLENBQzVDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVQsRUFDTlUsTUFBT1IsRUFDUFMsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxHQUNSQyxVQUFVLEVBQ1ZDLGNBQWMsRUFFZEMsR0FBSSxxQ0FFUmIsRUFBT2MsR0FBRyxhQUFjLFNBQVVDLEdBQzFCLE9BQU9DLEtBQUtELEVBQUVWLE9BSWxCVixFQUFFc0IsSUFBSSxDQUNIQyxJQUFLLHdCQUNMQyxLQUFNLENBQ0hDLE1BQVN4QixFQUNURyxVQUFhQSxHQUVoQnNCLFFBQVMsU0FBVUMsR0FDaEIsR0FBZSxNQUFYQSxFQUFJQyxLQUFZLENBQ2pCLElBQUlDLEVBQVFGLEVBQVUsS0FBUyxNQUMvQnRCLEVBQU95QixTQUFTVixFQUFFVixLQUFNbUIsUUFFeEJFLE9BQU9DLFdBQVdDLFNBQVNOLEVBQUlPLFNBQy9CN0IsRUFBTzhCLFFBR2JDLE1BQU8sU0FBVVQsR0FDZFUsUUFBUUMsSUFBSVgsU0FNeEIzQixFQUFFLFlBQ29CLElBQUlOLGNBQ1ZFIiwiZmlsZSI6ImNvdXJzZV9kZXRhaWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ291cnNlRGV0YWlsKCkge1xuXG59XG5cbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgdGhpcy5pbml0UGxheWVyKCk7XG59O1xuXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2aWRlb0luZm8gPSAkKCcjdmlkZW8taW5mbycpO1xuICB2YXIgdmlkZW9fdXJsID0gdmlkZW9JbmZvLmF0dHIoJ2RhdGEtdmlkZW8tdXJsJyk7XG4gIHZhciBjb3Zlcl91cmwgPSB2aWRlb0luZm8uYXR0cignZGF0YS1jb3Zlci11cmwnKTtcbiAgdmFyIGNvdXJzZV9pZCA9IHZpZGVvSW5mby5hdHRyKCdkYXRhLWNvdXJzZS1pZCcpO1xuXG4gIHZhciBwbGF5ZXIgPSBjeWJlcnBsYXllcihcInBsYXljb250YWluZXJcIikuc2V0dXAoe1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgZmlsZTogdmlkZW9fdXJsLFxuICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcbiAgICAgIGF1dG9zdGFydDogZmFsc2UsXG4gICAgICBzdHJldGNoaW5nOiBcInVuaWZvcm1cIixcbiAgICAgIHJlcGVhdDogZmFsc2UsXG4gICAgICB2b2x1bWU6IDUwLFxuICAgICAgY29udHJvbHM6IHRydWUsXG4gICAgICB0b2tlbkVuY3J5cHQ6IHRydWUsXG4gICAgICAvLyDov5nph4znmoRha+aYr+eZvuW6puS6keeahEFjY2Vzc0tleSzlnKjlronlhajorqTor4EvYWNjZXNza2V5XG4gICAgICBhazogJzcyZDNmZGM1MDdiYTRkYWRiZjMzYjgxOTMxMzgzMjdkJ1xuICB9KTtcbiAgcGxheWVyLm9uKCdiZWZvcmVQbGF5JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmKCEvbTN1OC8udGVzdChlLmZpbGUpKXsgLy/lpoLmnpzop4bpopHpg6jnvbJtM3U45qC85byP77yM55u05o6l6L+U5ZueXG4gICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQuZ2V0KHtcbiAgICAgICAgIHVybDogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXG4gICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAndmlkZW8nOiB2aWRlb191cmwsXG4gICAgICAgICAgICAnY291cnNlX2lkJzogY291cnNlX2lkXG4gICAgICAgICB9LFxuICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgaWYgKHJlcy5jb2RlPT09MjAwKSB7XG4gICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXNbJ2RhdGEnXVsndG9rZW4nXTtcbiAgICAgICAgICAgICAgIHBsYXllci5zZXRUb2tlbihlLmZpbGUsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhyZXMubWVzc2FnZSk7XG4gICAgICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgfSxcbiAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgfVxuICAgICAgfSlcbiAgfSlcbn07XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgdmFyIGNvdXJzZURldGFpbCA9IG5ldyBDb3Vyc2VEZXRhaWwoKTtcbiAgIGNvdXJzZURldGFpbC5ydW4oKTtcbn0pOyJdfQ==
