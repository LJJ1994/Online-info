function CourseDetail(){}CourseDetail.prototype.run=function(){this.initPlayer()},CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),r=e.attr("data-course-id"),a=cyberplayer("playcontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:50,controls:!0,tokenEncrypt:!0,ak:"72d3fdc507ba4dadbf33b8193138327d"});a.on("beforePlay",function(o){/m3u8/.test(o.file)&&$.get({url:"/course/course_token/",data:{video:t,course_id:r},success:function(e){if(200===e.code){var t=e.data.token;a.setToken(o.file,t)}else window.messageBox.showError(e.message),a.stop()},error:function(e){console.log(e)}})})},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm8iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsImNvdXJzZV9pZCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsImdldCIsInVybCIsImRhdGEiLCJ2aWRlbyIsInN1Y2Nlc3MiLCJyZXMiLCJjb2RlIiwidG9rZW4iLCJzZXRUb2tlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93RXJyb3IiLCJtZXNzYWdlIiwic3RvcCIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBSVRBLGFBQWFDLFVBQVVDLElBQU0sV0FDMUJDLEtBQUtDLGNBR1JKLGFBQWFDLFVBQVVHLFdBQWEsV0FDbEMsSUFBSUMsRUFBWUMsRUFBRSxlQUNkQyxFQUFZRixFQUFVRyxLQUFLLGtCQUMzQkMsRUFBWUosRUFBVUcsS0FBSyxrQkFDM0JFLEVBQVlMLEVBQVVHLEtBQUssa0JBRTNCRyxFQUFTQyxZQUFZLGlCQUFpQkMsTUFBTSxDQUM1Q0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1ULEVBQ05VLE1BQU9SLEVBQ1BTLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsR0FDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBRVJiLEVBQU9jLEdBQUcsYUFBYyxTQUFVQyxHQUMxQixPQUFPQyxLQUFLRCxFQUFFVixPQUlsQlYsRUFBRXNCLElBQUksQ0FDSEMsSUFBSyx3QkFDTEMsS0FBTSxDQUNIQyxNQUFTeEIsRUFDVEcsVUFBYUEsR0FFaEJzQixRQUFTLFNBQVVDLEdBQ2hCLEdBQWUsTUFBWEEsRUFBSUMsS0FBWSxDQUNqQixJQUFJQyxFQUFRRixFQUFVLEtBQVMsTUFDL0J0QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBTW1CLFFBRXhCRSxPQUFPQyxXQUFXQyxVQUFVTixFQUFJTyxTQUNoQzdCLEVBQU84QixRQUdiQyxNQUFPLFNBQVVULEdBQ2RVLFFBQVFDLElBQUlYLFNBTXhCM0IsRUFBRSxZQUNvQixJQUFJTixjQUNWRSIsImZpbGUiOiJjb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvdXJzZURldGFpbCgpIHtcblxufVxuXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgIHRoaXMuaW5pdFBsYXllcigpO1xufTtcblxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmlkZW9JbmZvID0gJCgnI3ZpZGVvLWluZm8nKTtcbiAgdmFyIHZpZGVvX3VybCA9IHZpZGVvSW5mby5hdHRyKCdkYXRhLXZpZGVvLXVybCcpO1xuICB2YXIgY292ZXJfdXJsID0gdmlkZW9JbmZvLmF0dHIoJ2RhdGEtY292ZXItdXJsJyk7XG4gIHZhciBjb3Vyc2VfaWQgPSB2aWRlb0luZm8uYXR0cignZGF0YS1jb3Vyc2UtaWQnKTtcblxuICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5Y29udGFpbmVyXCIpLnNldHVwKHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIGZpbGU6IHZpZGVvX3VybCxcbiAgICAgIGltYWdlOiBjb3Zlcl91cmwsXG4gICAgICBhdXRvc3RhcnQ6IGZhbHNlLFxuICAgICAgc3RyZXRjaGluZzogXCJ1bmlmb3JtXCIsXG4gICAgICByZXBlYXQ6IGZhbHNlLFxuICAgICAgdm9sdW1lOiA1MCxcbiAgICAgIGNvbnRyb2xzOiB0cnVlLFxuICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxuICAgICAgLy8g6L+Z6YeM55qEYWvmmK/nmb7luqbkupHnmoRBY2Nlc3NLZXks5Zyo5a6J5YWo6K6k6K+BL2FjY2Vzc2tleVxuICAgICAgYWs6ICc3MmQzZmRjNTA3YmE0ZGFkYmYzM2I4MTkzMTM4MzI3ZCdcbiAgfSk7XG4gIHBsYXllci5vbignYmVmb3JlUGxheScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZighL20zdTgvLnRlc3QoZS5maWxlKSl7IC8v5aaC5p6c6KeG6aKR6YOo572ybTN1OOagvOW8j++8jOebtOaOpei/lOWbnlxuICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkLmdldCh7XG4gICAgICAgICB1cmw6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxuICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9fdXJsLFxuICAgICAgICAgICAgJ2NvdXJzZV9pZCc6IGNvdXJzZV9pZFxuICAgICAgICAgfSxcbiAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGlmIChyZXMuY29kZT09PTIwMCkge1xuICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzWydkYXRhJ11bJ3Rva2VuJ107XG4gICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLCB0b2tlbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKHJlcy5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgIHBsYXllci5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICB9LFxuICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICB9XG4gICAgICB9KVxuICB9KVxufTtcblxuJChmdW5jdGlvbiAoKSB7XG4gICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xuICAgY291cnNlRGV0YWlsLnJ1bigpO1xufSk7Il19
